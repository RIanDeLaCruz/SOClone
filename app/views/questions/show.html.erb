<%= link_to "Ask New Question", controller: "questions", action: "new" %>
<%= link_to "See all Questions", controller: "questions", action: "index" %>
<div class="card">
  <p>
    <strong>Title:</strong>
    <%= @question.title %>
  </p>

  <p>
    <strong>Text:</strong>
    <%= @question.content %>
  </p>
  <p>
    <h2>Tags</h2>
    <%= @question.tag_list %>
  </p>
  <% if logged_in? && session[:user_id] == @question.user_id %>
    <%= link_to "Edit", edit_question_path(@question) %>
    <%= link_to "Delete", question_path(@question), method: :delete, data: {confirm: "This can not be undone"} %>
  <% end %>
  <p>
    <%= @total_votes %>
  </p>
  <%= link_to "Upvote", question_votes_upvote_path(@question.id), method: :post %>
  <%= link_to "Downvote", question_votes_downvote_path(@question.id), method: :post %>
</div>
<%= form_for :answer, url: question_answers_path(@question) do |f| %>
<p>
  <%= f.label "Answer" %><br>
  <%= f.text_area :body %>
</p>
<p>
  <%= f.submit %>
</p>
<% end %>
<ul style="list-style-type:none;">
<% @answers.each_with_index do |answer, index| %>
  <li style="padding: 20px 30px; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
    <%= answer.body %>
    <%= @answers_upvotes[index].length-@answers_downvotes[index].length %>
    <%= link_to "Upvote", answer_votes_upvote_path(answer), method: :post %>
    <%= link_to "Downvote", answer_votes_downvote_path(answer), method: :post %>
    <%= link_to "Comment", edit_answer_path(answer) %>
    <% answer.comments.each do |view_comment| %>
      <p><%= view_comment.body %>
      <p style="padding-left: 20px;"><%= view_comment.user_id %>
    <% end %>
  </li>
<% end %>
</ul>
